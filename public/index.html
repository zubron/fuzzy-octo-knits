<!DOCTYPE html>
<html lang="end" ng-app="chart">
<head>
    <title>
        fuzzy-octo-knits
    </title>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.18/angular.min.js"></script>
    <script src="js/chart.js"></script>
</head>
<body>
    <div class="container" ng-controller="ChartController">
        <div class="page-header">
            <h1>fuzzy-octo-knits chart</h1>
        </div>
        <div class="chart-dimension-selector">
            <h4>Chart dimensions:</h4>
            <form>
                Stitches:
                <input type="number" ng-model="columns" min="0" max="50"/>
                Rows:
                <input type="number" ng-model="rows" min="0" max="50"/>
                <button type="button" class="btn" ng-click="initChart()" ng-disabled="cells.length !== 0">Create chart</button>
            </form>
            <h4>Gauge:</h4>
            <form>
                Stitches:
                <input type="number" ng-model="gaugeStitches" min="0" max="50"/>
                Rows:
                <input type="number" ng-model="gaugeRows" min="0" max="50"/>
                <button type="button" class="btn" ng-click="changeGauge(gaugeStitches, gaugeRows)">Apply</button>
            </form>
        </div>
        <div ng-hide="cells.length === 0">
            <div class="chart-colour-selector">
                <h4>Pick a colour</h4>
                <div ng-repeat="colour in defaultColours" class="chart-colour-selector-box" ng-click="selectColour(colour)" ng-style="{'background-color': cssFormat(colour)}">
                </div>
                <button type="button" class="btn btn-lg" ng-click="clearCells()">Clear cells</button>
                <button type="button" class="btn btn-lg" ng-click="undo()" ng-disabled="!canUndo()">Undo</button>
                <button type="button" class="btn btn-lg" ng-click="redo()" ng-disabled="!canRedo()">Redo</button>
            </div>
            <div class="chart-container" ng-style="{'width': chartWidth()}">
                <div ng-repeat="row in cells" class="chart-row">
                    <div class="chart-box" ng-repeat="cell in row" ng-click="changeColour($event, cell.row, cell.column)" ng-style="{'background-color': cell.colour, 'width': cellWidthPx(), 'height': cellHeightPx()}">
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
